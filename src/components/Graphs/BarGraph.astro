---
import './graphs.css';
// Generated by Copilot
export interface Item {
  tag: string;
  count: number;
}

export interface Props {
  data: Item[];
  height: string;
}

const { data, height } = Astro.props;

// Find the largest tag count
const maxCount = Math.max(...data.map(item => item.count));
console.log("BarGraph data", data);
---

<div  style={{height, width: '500px', margin: 'auto'}}>
  <div class="bar-graph-container">
    {data.map((item, index) => (
      <div class={`bar`}>
        <div class={`bar-inner bar-${index}`} style={`height: ${(item.count / maxCount) * 100}%;`} title={`${item.tag}: ${item.count}`}></div>
        <span class="text-small">{item.tag} ({item.count})</span>
      </div>
    ))}
  </div>
  <hr />
  <p class="text-centre">Post Tags</p>
</div>
