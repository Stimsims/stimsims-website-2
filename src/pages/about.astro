---
import Layout from '../layouts/Layout.astro';
import { getImage } from 'astro:assets';
import neuralWings from '../content/posts/images/neural-purple-wings.png';

const optimizedImage = await getImage({ src: neuralWings });
console.log("optimised image", optimizedImage.src)
---

<Layout title="About Me">
  <div class="background" style={`--background-url: url('${optimizedImage.src}');`}>
    <div class="background-image"></div>
  </div>
  <section class="about-section"
  
  >
    <div id="about-content">
      <h1>About Me</h1>
      
      <p class="text-left">Welcome to my website! I'm a math teacher by day, and data-miner by night.
        This is a collection of datamining works investigating how people spend time on the internet. The way we spend our free time is
        far more interesting than our time at work or at sleep. The things we seek voluntarily provide vital clues to how we understand the world, what's most rewarding to us and subsequently,
        what interest domains provide useful context for math education. I aim to use this research to solve that age old question students ask their math teachers:
      </p>

      <h3 class="text-center">"when will I ever use this?" -- so many students</h3>
    </div>
  </section>
</Layout>

<style define:vars={{ optimizedImage }}>
/* Full-screen background container */
.background {
    position: fixed; /* Fix to viewport */
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh; /* Full screen height */
    z-index: -1; /* Push it behind content */
    overflow: hidden;
}

/* Pseudo-element for the background image */
.background::before {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 100%;
    height: 90%;
    background-image: var(--background-url);
    /* background-image: url('/src/content/posts/images/neural-purple-wings.png'); */
    background-size: contain; /* Ensures full coverage */
    background-position: top right 25%;
    background-repeat: no-repeat;
    transform: rotate(180deg) scaleX(-1); /* Flips image */
    opacity: 0.5; /* Adjust for readability */
    display: block;
    overflow-x:hidden;
}

/* About Section should be above the background */
.about-section {
    position: relative; /* Required for stacking above */
    padding: 2rem;
    color: white;
    text-align: center;
    z-index: 1; /* Keep it above the background */
    max-width: 700px;
    margin: auto;
}
</style>